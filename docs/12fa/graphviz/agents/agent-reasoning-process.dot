digraph agent_reasoning_workflow {
    // Graph properties
    rankdir=TB;
    bgcolor="#f8f9fa";
    fontname="Arial";
    fontsize=14;
    label="Agent Reasoning Workflow\nAgent ID: agent-093 | Category: Reasoning\nPurpose: General reasoning and logical analysis";
    labelloc=t;

    // Node styling
    node [fontname="Arial", fontsize=11, style="filled"];

    // Start/End
    start [label="Reasoning\nRequest", shape=oval, fillcolor="#e8f5e9", color="#4caf50", penwidth=2];
    end [label="Decision\nReached", shape=oval, fillcolor="#e8f5e9", color="#4caf50", penwidth=2];

    // Phase 1: Problem Understanding
    subgraph cluster_understanding {
        label="Phase 1: Problem Understanding";
        style=filled;
        fillcolor="#fff3e0";
        color="#ff9800";
        penwidth=2;

        u1 [label="Parse Problem\nStatement", shape=box, fillcolor="#ffecb3"];
        u2 [label="Identify Key\nVariables", shape=box, fillcolor="#ffecb3"];
        u3 [label="Clarify\nConstraints", shape=box, fillcolor="#ffecb3"];
        u4 [label="Define Success\nCriteria", shape=box, fillcolor="#ffecb3"];

        u1 -> u2 -> u3 -> u4;
    }

    // Phase 2: Information Gathering
    subgraph cluster_gathering {
        label="Phase 2: Information Gathering";
        style=filled;
        fillcolor="#e3f2fd";
        color="#2196f3";
        penwidth=2;

        g1 [label="Collect Relevant\nFacts", shape=box, fillcolor="#bbdefb"];
        g2 [label="Identify\nAssumptions", shape=box, fillcolor="#bbdefb"];
        g3 [label="Research\nPrecedents", shape=box, fillcolor="#bbdefb"];
        g4 [label="Gather Context", shape=box, fillcolor="#bbdefb"];

        g1 -> g2 -> g3 -> g4;
    }

    // Phase 3: Logical Analysis
    subgraph cluster_analysis {
        label="Phase 3: Logical Analysis";
        style=filled;
        fillcolor="#f3e5f5";
        color="#9c27b0";
        penwidth=2;

        a1 [label="Break Down\nProblem", shape=box, fillcolor="#e1bee7"];
        a2 [label="Identify\nRelationships", shape=box, fillcolor="#e1bee7"];
        a3 [label="Apply Logical\nRules", shape=box, fillcolor="#e1bee7"];
        a4 [label="Test Consistency", shape=box, fillcolor="#e1bee7"];

        a1 -> a2 -> a3 -> a4;
    }

    // Phase 4: Inference & Deduction
    subgraph cluster_inference {
        label="Phase 4: Inference & Deduction";
        style=filled;
        fillcolor="#fce4ec";
        color="#e91e63";
        penwidth=2;

        i1 [label="Draw Initial\nConclusions", shape=box, fillcolor="#f8bbd0"];
        i2 [label="Apply Deductive\nReasoning", shape=box, fillcolor="#f8bbd0"];
        i3 [label="Apply Inductive\nReasoning", shape=box, fillcolor="#f8bbd0"];
        i4 [label="Validate\nInferences", shape=box, fillcolor="#f8bbd0"];

        i1 -> i2 -> i3 -> i4;
    }

    // Phase 5: Alternative Evaluation
    subgraph cluster_alternatives {
        label="Phase 5: Alternative Evaluation";
        style=filled;
        fillcolor="#e0f2f1";
        color="#009688";
        penwidth=2;

        alt1 [label="Generate\nAlternatives", shape=box, fillcolor="#b2dfdb"];
        alt2 [label="Evaluate\nPros/Cons", shape=box, fillcolor="#b2dfdb"];
        alt3 [label="Assess Risks", shape=box, fillcolor="#b2dfdb"];
        alt4 [label="Compare Options", shape=box, fillcolor="#b2dfdb"];

        alt1 -> alt2 -> alt3 -> alt4;
    }

    // Phase 6: Decision Making
    subgraph cluster_decision {
        label="Phase 6: Decision Making";
        style=filled;
        fillcolor="#fff9c4";
        color="#fbc02d";
        penwidth=2;

        d1 [label="Synthesize\nFindings", shape=box, fillcolor="#fff59d"];
        d2 [label="Apply Decision\nCriteria", shape=box, fillcolor="#fff59d"];
        d3 [label="Validate Logic", shape=box, fillcolor="#fff59d"];
        d4 [label="Document\nReasoning", shape=box, fillcolor="#fff59d"];

        d1 -> d2 -> d3 -> d4;
    }

    // Decisions
    consistent [label="Internally\nConsistent?", shape=diamond, fillcolor="#ffeb3b", color="#f57f17", penwidth=2];
    confident [label="Confident in\nConclusion?", shape=diamond, fillcolor="#ffeb3b", color="#f57f17", penwidth=2];

    // Flow
    start -> u1;
    u4 -> g1;
    g4 -> a1;
    a4 -> consistent;

    consistent -> i1 [label="Yes"];
    consistent -> a1 [label="No - Re-analyze", style=dashed, color="#f44336"];

    i4 -> alt1;
    alt4 -> d1;
    d3 -> confident;

    confident -> d4 [label="Yes"];
    confident -> alt1 [label="No - Explore More", style=dashed, color="#ff9800"];

    d4 -> end;

    // Capabilities
    capabilities [label="Key Capabilities:\n• Logical Reasoning\n• Problem Analysis\n• Decision Making\n• Inference\n• Alternative Evaluation\n• Systematic Thinking", shape=note, fillcolor="#e8eaf6", color="#3f51b5", fontsize=10];

    // Reasoning types
    reasoning_types [label="Reasoning Types:\n• Deductive\n• Inductive\n• Abductive\n• Analogical\n• Causal", shape=note, fillcolor="#ede7f6", color="#673ab7", fontsize=10];

    // Metadata
    metadata [label="Agent: agent-reasoning\nPriority: High\nComplexity: Very High\nGraphviz Priority: 93", shape=note, fillcolor="#f5f5f5", color="#9e9e9e", fontsize=9];
}
