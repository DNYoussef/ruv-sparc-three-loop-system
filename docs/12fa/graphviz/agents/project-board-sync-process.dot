// Project Board Sync Agent - GitHub Project Board Automation
// Board sync, automated updates, status tracking, milestone tracking
digraph project_board_sync_agent {
    // Graph attributes
    graph [
        rankdir=TB,
        bgcolor="#0a0e1a",
        fontname="Arial",
        fontsize=12,
        splines=ortho,
        nodesep=0.6,
        ranksep=1.0
    ];

    node [
        shape=box,
        style="rounded,filled",
        fontname="Arial",
        fontsize=10,
        margin=0.2
    ];

    edge [
        fontname="Arial",
        fontsize=9,
        color="#4a90e2"
    ];

    // === INITIALIZATION ===
    subgraph cluster_init {
        label="Agent Initialization";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        board_init [label="Project Board Sync\nInitialize", fillcolor="#d97706", fontcolor="#ffffff"];
        github_projects_api [label="GitHub Projects\nAPI Connect", fillcolor="#2d3748", fontcolor="#ffffff"];
        board_config [label="Board\nConfiguration", fillcolor="#2d3748", fontcolor="#ffffff"];
        automation_rules [label="Automation\nRules", fillcolor="#2d3748", fontcolor="#ffffff"];
    }

    // === BOARD MANAGEMENT ===
    subgraph cluster_board {
        label="Board Management";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        board_creator [label="Board\nCreator", fillcolor="#2563eb", fontcolor="#ffffff"];
        column_manager [label="Column\nManager", fillcolor="#2563eb", fontcolor="#ffffff"];
        card_manager [label="Card\nManager", fillcolor="#2563eb", fontcolor="#ffffff"];
        view_manager [label="View\nManager", fillcolor="#2563eb", fontcolor="#ffffff"];
    }

    // === SYNCHRONIZATION ===
    subgraph cluster_sync {
        label="Synchronization Engine";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        issue_syncer [label="Issue\nSyncer", fillcolor="#059669", fontcolor="#ffffff"];
        pr_syncer [label="PR\nSyncer", fillcolor="#059669", fontcolor="#ffffff"];
        status_syncer [label="Status\nSyncer", fillcolor="#059669", fontcolor="#ffffff"];
        label_syncer [label="Label\nSyncer", fillcolor="#059669", fontcolor="#ffffff"];
    }

    // === AUTOMATION ===
    subgraph cluster_automation {
        label="Automation Rules";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        auto_mover [label="Auto Card\nMover", fillcolor="#0891b2", fontcolor="#ffffff"];
        auto_archiver [label="Auto\nArchiver", fillcolor="#0891b2", fontcolor="#ffffff"];
        auto_labeler [label="Auto\nLabeler", fillcolor="#0891b2", fontcolor="#ffffff"];
        auto_assigner [label="Auto\nAssigner", fillcolor="#0891b2", fontcolor="#ffffff"];
    }

    // === STATUS TRACKING ===
    subgraph cluster_status {
        label="Status Tracking";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        todo_tracker [label="To Do\nTracker", fillcolor="#dc2626", fontcolor="#ffffff"];
        in_progress_tracker [label="In Progress\nTracker", fillcolor="#dc2626", fontcolor="#ffffff"];
        review_tracker [label="In Review\nTracker", fillcolor="#dc2626", fontcolor="#ffffff"];
        done_tracker [label="Done\nTracker", fillcolor="#dc2626", fontcolor="#ffffff"];
    }

    // === MILESTONE TRACKING ===
    subgraph cluster_milestone {
        label="Milestone Tracking";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        milestone_parser [label="Milestone\nParser", fillcolor="#8b4789", fontcolor="#ffffff"];
        progress_calculator [label="Progress\nCalculator", fillcolor="#8b4789", fontcolor="#ffffff"];
        deadline_monitor [label="Deadline\nMonitor", fillcolor="#8b4789", fontcolor="#ffffff"];
        completion_tracker [label="Completion\nTracker", fillcolor="#8b4789", fontcolor="#ffffff"];
    }

    // === ANALYTICS ===
    subgraph cluster_analytics {
        label="Analytics & Insights";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        velocity_calculator [label="Velocity\nCalculator", fillcolor="#ef4444", fontcolor="#ffffff"];
        burndown_generator [label="Burndown Chart\nGenerator", fillcolor="#ef4444", fontcolor="#ffffff"];
        cycle_time_analyzer [label="Cycle Time\nAnalyzer", fillcolor="#ef4444", fontcolor="#ffffff"];
        bottleneck_detector [label="Bottleneck\nDetector", fillcolor="#ef4444", fontcolor="#ffffff"];
    }

    // === NOTIFICATION ===
    subgraph cluster_notify {
        label="Notification System";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        status_notifier [label="Status Change\nNotifier", fillcolor="#10b981", fontcolor="#ffffff"];
        milestone_notifier [label="Milestone\nNotifier", fillcolor="#10b981", fontcolor="#ffffff"];
        deadline_alerter [label="Deadline\nAlerter", fillcolor="#10b981", fontcolor="#ffffff"];
        summary_reporter [label="Daily Summary\nReporter", fillcolor="#10b981", fontcolor="#ffffff"];
    }

    // === COLLABORATION ===
    subgraph cluster_collab {
        label="Agent Collaboration";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        issue_coord [label="Issue Tracker\nCoordination", fillcolor="#6366f1", fontcolor="#ffffff"];
        pr_coord [label="PR Manager\nCoordination", fillcolor="#6366f1", fontcolor="#ffffff"];
        release_coord [label="Release Manager\nCoordination", fillcolor="#6366f1", fontcolor="#ffffff"];
    }

    // === INITIALIZATION FLOW ===
    board_init -> github_projects_api [label="Connect"];
    board_init -> board_config [label="Load Config"];
    board_init -> automation_rules [label="Load Rules"];

    // === BOARD MANAGEMENT FLOW ===
    github_projects_api -> board_creator [label="Create Boards"];
    board_creator -> column_manager [label="Manage Columns"];
    column_manager -> card_manager [label="Manage Cards"];
    card_manager -> view_manager [label="Manage Views"];

    // === SYNC FLOW ===
    view_manager -> issue_syncer [label="Sync Issues"];
    issue_syncer -> pr_syncer [label="Sync PRs"];
    pr_syncer -> status_syncer [label="Sync Status"];
    status_syncer -> label_syncer [label="Sync Labels"];

    // === AUTOMATION FLOW ===
    automation_rules -> auto_mover [label="Move Cards"];
    auto_mover -> auto_archiver [label="Archive Done"];
    auto_archiver -> auto_labeler [label="Apply Labels"];
    auto_labeler -> auto_assigner [label="Assign Members"];

    // === STATUS TRACKING FLOW ===
    status_syncer -> todo_tracker [label="Track To Do"];
    todo_tracker -> in_progress_tracker [label="Track In Progress"];
    in_progress_tracker -> review_tracker [label="Track In Review"];
    review_tracker -> done_tracker [label="Track Done"];

    // === MILESTONE FLOW ===
    label_syncer -> milestone_parser [label="Parse Milestones"];
    milestone_parser -> progress_calculator [label="Calculate Progress"];
    progress_calculator -> deadline_monitor [label="Monitor Deadlines"];
    deadline_monitor -> completion_tracker [label="Track Completion"];

    // === ANALYTICS FLOW ===
    done_tracker -> velocity_calculator [label="Calculate Velocity"];
    velocity_calculator -> burndown_generator [label="Generate Burndown"];
    burndown_generator -> cycle_time_analyzer [label="Analyze Cycle Time"];
    cycle_time_analyzer -> bottleneck_detector [label="Detect Bottlenecks"];

    // === NOTIFICATION FLOW ===
    status_syncer -> status_notifier [label="Notify Status"];
    completion_tracker -> milestone_notifier [label="Notify Milestone"];
    deadline_monitor -> deadline_alerter [label="Alert Deadline"];
    bottleneck_detector -> summary_reporter [label="Daily Report"];

    // === COLLABORATION ===
    issue_syncer -> issue_coord [label="Coordinate Issues"];
    pr_syncer -> pr_coord [label="Coordinate PRs"];
    completion_tracker -> release_coord [label="Coordinate Release"];

    // === FEEDBACK LOOPS ===
    deadline_alerter -> auto_mover [label="Priority Move", style=dashed];
    bottleneck_detector -> status_notifier [label="Alert Team", style=dashed, color="#ef4444"];

    // Legend
    subgraph cluster_legend {
        label="Legend";
        style=filled;
        color="#1a1f35";
        fontcolor="#ffffff";

        legend1 [label="Project Board Sync", fillcolor="#d97706", fontcolor="#ffffff"];
        legend2 [label="Board Management", fillcolor="#2563eb", fontcolor="#ffffff"];
        legend3 [label="Synchronization", fillcolor="#059669", fontcolor="#ffffff"];
        legend4 [label="Automation", fillcolor="#0891b2", fontcolor="#ffffff"];
        legend5 [label="Status Tracking", fillcolor="#dc2626", fontcolor="#ffffff"];
        legend6 [label="Analytics", fillcolor="#ef4444", fontcolor="#ffffff"];
    }
}
