digraph PersistentMemory {
  rankdir=TB;
  bgcolor="white";
  label="AgentDB Persistent Memory Implementation";
  labelloc=t;
  fontsize=16;

  node [fontname="Arial", fontsize=11, shape=box, style="rounded,filled", fillcolor=lightblue];

  subgraph cluster_p1 {
    label="Phase 1: Design Architecture (1-2 hrs)";
    fillcolor=lightyellow;
    style=filled;

    p1_1 [label="Define Schemas\nepisodic, semantic", fillcolor=lightgreen];
    p1_2 [label="Plan Storage Layers", fillcolor=lightgreen];
    p1_3 [label="Design Retrieval", fillcolor=lightgreen];
    p1_val [label="✓ Architecture Designed", shape=ellipse, fillcolor=lightcoral];

    p1_1 -> p1_2 -> p1_3 -> p1_val;
  }

  subgraph cluster_p2 {
    label="Phase 2: Implement Storage (2-3 hrs)";
    fillcolor=lightcyan;
    style=filled;

    p2_1 [label="Create Memory Stores", fillcolor=lightgreen];
    p2_2 [label="Session Management", fillcolor=lightgreen];
    p2_3 [label="Long-Term Persistence", fillcolor=lightgreen];
    p2_val [label="✓ Storage Ready", shape=ellipse, fillcolor=lightcoral];

    p2_1 -> p2_2 -> p2_3 -> p2_val;
  }

  subgraph cluster_p3 {
    label="Phase 3: Test Operations (1-2 hrs)";
    fillcolor=lavender;
    style=filled;

    p3_1 [label="Store/Retrieve Tests", fillcolor=lightgreen];
    p3_2 [label="Pattern Recognition", fillcolor=lightgreen];
    p3_val [label="✓ Tests Pass", shape=ellipse, fillcolor=lightcoral];

    p3_1 -> p3_2 -> p3_val;
  }

  subgraph cluster_p4 {
    label="Phase 4: Optimize (1-2 hrs)";
    fillcolor=lightgoldenrodyellow;
    style=filled;

    p4_1 [label="Caching Layer", fillcolor=lightgreen];
    p4_2 [label="Query Optimization", fillcolor=lightgreen];
    p4_val [label="✓ Optimized", shape=ellipse, fillcolor=lightcoral];

    p4_1 -> p4_2 -> p4_val;
  }

  subgraph cluster_p5 {
    label="Phase 5: Document (1 hr)";
    fillcolor=lightpink;
    style=filled;

    p5_1 [label="Usage Docs", fillcolor=lightgreen];
    p5_2 [label="API Reference", fillcolor=lightgreen];
    p5_val [label="✓ Documented", shape=ellipse, fillcolor=lightcoral];

    p5_1 -> p5_2 -> p5_val;
  }

  success [label="Memory System Ready\n✓ Persistent storage\n✓ Fast retrieval\n✓ Pattern learning", shape=doubleoctagon, fillcolor=green, fontcolor=white];

  p1_val -> p2_1;
  p2_val -> p3_1;
  p3_val -> p4_1;
  p4_val -> p5_1;
  p5_val -> success [penwidth=2, color=green];
}
