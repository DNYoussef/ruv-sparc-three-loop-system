digraph PipelineChaining {
  rankdir=LR;
  node [shape=box, style=rounded];

  start [label="Start", shape=ellipse, style=filled, fillcolor=lightgreen];

  p1 [label="Design\nPipeline"];
  p2 [label="Connect\nAgents"];
  p3 [label="Execute\nPipeline"];
  p4 [label="Monitor\nStreaming"];
  p5 [label="Validate\nResults"];

  end [label="End", shape=ellipse, style=filled, fillcolor=lightgreen];

  // Sequential stages
  stage1 [label="Stage 1:\nResearch", shape=component];
  stage2 [label="Stage 2:\nAnalyze", shape=component];
  stage3 [label="Stage 3:\nCode", shape=component];
  stage4 [label="Stage 4:\nTest", shape=component];
  stage5 [label="Stage 5:\nReview", shape=component];

  start -> p1 -> p2 -> p3 -> p4 -> p5 -> end;

  p3 -> stage1 -> stage2 -> stage3 -> stage4 -> stage5 -> p5;

  memory [label="Memory\nCoordinator", shape=cylinder];
  memory -> stage1 [style=dashed];
  memory -> stage2 [style=dashed];
  memory -> stage3 [style=dashed];
}
