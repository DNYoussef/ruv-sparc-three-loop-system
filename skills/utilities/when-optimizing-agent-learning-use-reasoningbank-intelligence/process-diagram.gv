digraph ReasoningBankIntelligence {
    rankdir=TB;
    node [shape=box, style=filled, fillcolor=lightblue];

    start [label="Agent Execution", shape=ellipse, fillcolor=lightgreen];

    phase1 [label="Phase 1: Initialize\n(10 min)\nAgent: ML-Developer\nReasoningBank + AgentDB", fillcolor=lightcoral];
    out1 [label="System Config +\nTrajectory Schema", shape=parallelogram];

    phase2 [label="Phase 2: Capture Patterns\n(10 min)\nAgent: SAFLA-Neural\nTrack + Evaluate + Extract", fillcolor=lightcoral];
    out2 [label="Trajectories +\nVerdicts +\nPatterns (150x faster)", shape=parallelogram];

    phase3 [label="Phase 3: Optimize\n(10 min)\nAgent: Performance-Analyzer\nTrain Model + Generate Recs", fillcolor=lightcoral];
    out3 [label="Decision Model +\nRecommendations", shape=parallelogram];

    phase4 [label="Phase 4: Validate\n(10 min)\nAgent: Performance-Analyzer\nBenchmark + Metrics", fillcolor=lightcoral];
    out4 [label="Benchmark Results +\nImprovement Metrics", shape=parallelogram];

    decision [label="Improvement\n> 15%?", shape=diamond, fillcolor=orange];

    phase5 [label="Phase 5: Deploy\n(5 min)\nAgent: ML-Developer\nExport + Document", fillcolor=lightcoral];
    out5 [label="Production Package +\nIntegration Guide", shape=parallelogram];

    end [label="Deployed Optimized Agent\n(+15-35% improvement)", shape=ellipse, fillcolor=lightgreen];

    retrain [label="Retrain Model\nwith More Data", shape=box, fillcolor=yellow];

    start -> phase1;
    phase1 -> out1;
    out1 -> phase2;
    phase2 -> out2;
    out2 -> phase3;
    phase3 -> out3;
    out3 -> phase4;
    phase4 -> out4;
    out4 -> decision;
    decision -> phase5 [label="Yes"];
    decision -> retrain [label="No"];
    retrain -> phase2;
    phase5 -> out5;
    out5 -> end;

    agentdb [label="AgentDB Benefits:\n- 150x faster search (HNSW)\n- 4-32x memory reduction\n- Batch operations\n- Persistent storage", shape=note, fillcolor=lightcyan];
    phase2 -> agentdb [style=dashed];

    algorithms [label="9 RL Algorithms:\n- Decision Transformer\n- Q-Learning\n- SARSA\n- Actor-Critic\n- PPO, DQN, A3C, TD3, SAC", shape=note, fillcolor=lightyellow];
    phase3 -> algorithms [style=dashed];

    metrics [label="Success Metrics:\n- Performance: +15-35%\n- Success Rate: +20-40%\n- Efficiency: +25-45%\n- Pattern Accuracy: >85%", shape=note, fillcolor=lightgreen];
    end -> metrics [style=dashed];
}
